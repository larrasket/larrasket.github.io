<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A useful Git 'trick'</title>
<meta name="author" content="Salih Muhammed" />
<meta name="generator" content="Org Mode" />
<!DOCTYPE html>
<html>
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Arimo:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#ffffff">
  <meta charset="utf-8">
  <meta name="theme-color" content="#ffffff">
  <meta name="viewport" content= "width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style/toc.css">
  <link rel="stylesheet" href="/style/tufte.css">
  <link rel="stylesheet" href="/style/main.css">




  <script async data-id="101390423" src= "//static.getclicky.com/js"></script> <noscript>
  <p><img alt="Clicky" width="1" height="1" src= "//in.getclicky.com/101390423ns.gif"></p></noscript>

<script>
// Stack Page Formatter - Apply inline layout to specific pages
(function() {
  'use strict';
  
  // Check if current page should have the formatting applied
  function shouldApplyFormatting() {
    const path = window.location.pathname;
    
    // Check if path matches our target patterns
    return path === '/stack' || 
           path === '/stack.html' || 
           path.startsWith('/sh/');
  }
  
  // Only proceed if we're on a target page
  if (!shouldApplyFormatting()) {
    return;
  }
  
  // Add CSS styles
  function addStyles() {
    const style = document.createElement('style');
    style.textContent = `
      /* Basic styling for entries */
      .outline-3 {
        margin-bottom: 1.5em;
        line-height: 1.5;
      }

      /* Style for reconstructed single paragraph */
      .entry-paragraph {
        margin: 0;
        line-height: 1.5;
        direction: inherit;
        unicode-bidi: plaintext;
      }

      /* Style for date - gray and nice */
      .entry-date {
        color: #666;
        font-size: 0.9em;
        margin-right: 0.5em;
      }

      /* Style for tag at end - gray and in parentheses */
      .entry-tag {
        display: inline !important;
        color: #666;
        margin-left: 0.5em;
      }

      /* Ensure all children stay inline */
      .entry-tag * {
        display: inline !important;
      }

      /* Override any existing tag styles */
      .entry-tag p,
      .entry-tag div {
        display: inline !important;
        margin: 0 !important;
        padding: 0 !important;
      }

      /* Hide block elements that will be moved */
      .outline-3 .moved-block {
        display: block;
        margin: 0.5em 0;
      }
    `;
    document.head.appendChild(style);
  }
  
  // Apply the formatting transformation
  function applyFormatting() {
    // Process each entry
    const entries = document.querySelectorAll('.outline-3');
    
    entries.forEach((entry, index) => {
      // Extract components
      const h3 = entry.querySelector('h3');
      const notes = entry.querySelector('.notes');
      const outlineText = entry.querySelector('.outline-text-3');
      const tag = entry.querySelector('.tag');
      
      if (!h3 || !outlineText) return;
      
      // Get title text (preserve any TODO/DONE prefixes and links)
      let titleText = h3.innerHTML;
      
      // Get timestamp
      let timestampText = '';
      if (notes) {
        const timestamp = notes.querySelector('.timestamp');
        if (timestamp) {
          timestampText = timestamp.textContent;
        }
      }
      
      // Get content paragraphs (excluding notes and tag)
      const contentParagraphs = [];
      const blockElements = [];
      
      Array.from(outlineText.children).forEach(child => {
        if (child.classList.contains('notes') || child.classList.contains('tag')) {
          return; // Skip these
        }
        
        if (child.tagName === 'P') {
          contentParagraphs.push(child.innerHTML);
        } else if (child.tagName === 'UL' || child.tagName === 'OL' || 
                   child.tagName === 'BLOCKQUOTE' || child.tagName === 'PRE' ||
                   child.tagName === 'DL' || child.classList.contains('epigraph')) {
          blockElements.push(child.outerHTML);
        } else if (child.tagName === 'DIV' && child.classList.contains('epigraph')) {
          blockElements.push(child.outerHTML);
        }
      });
      
      // Get tag HTML (preserve links and formatting)
      let tagHtml = '';
      if (tag) {
        tagHtml = tag.outerHTML;
      }
      
      // Construct the new single paragraph
      let newContent = '';
      
      // Add date at the start (gray)
      if (timestampText) {
        newContent += '<span class="entry-date">' + timestampText + '</span>';
      }
      
      // Add title with emdash
      newContent += titleText + ' — ';
      
      // Add content paragraphs
      newContent += contentParagraphs.join(' ');
      
      // Add tag at the end in parentheses (preserve HTML but force inline)
      if (tagHtml) {
        // Extract just the inner content and wrap it properly
        let tagContent = tag.innerHTML;
        newContent += ' <span class="entry-tag">(' + tagContent + ')</span>';
      }
      
      // Create new paragraph element
      const newParagraph = document.createElement('p');
      newParagraph.className = 'entry-paragraph';
      newParagraph.innerHTML = newContent;
      
      // Clear the entry and add the new paragraph
      entry.innerHTML = '';
      entry.appendChild(newParagraph);
      
      // Add any block elements after the paragraph
      blockElements.forEach(blockHtml => {
        const blockDiv = document.createElement('div');
        blockDiv.className = 'moved-block';
        blockDiv.innerHTML = blockHtml;
        entry.appendChild(blockDiv);
      });
      
      // Add separator after each entry (except the last one)
      if (index < entries.length - 1) {
        const separator = document.createElement('hr');
        separator.style.margin = '1em 0';
        separator.style.border = 'none';
        separator.style.borderTop = '1px solid #ccc';
        entry.appendChild(separator);
      }
    });
  }
  
  // Initialize when DOM is ready
  function init() {
    addStyles();
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', applyFormatting);
    } else {
      applyFormatting();
    }
  }
  
  // Start the initialization
  init();
})();
</script>



</head>
<body>
<!-- OUTDATED NOTICE -->
<div style="
    background: #1a1a1a;
    color: #00ff00;
    font-family: monospace;
    font-size: 14px;
    padding: 8px 16px;
    margin: 0;
    text-align: center;
    border-bottom: 2px solid #00ff00;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    box-shadow: 0 2px 10px rgba(0,255,0,0.3);
">
    <span style="opacity: 0.8;">[!]</span>
    This site is archived for link-rot prevention.
    New content at <a href="https://lr0.org" style="color: #00ffff; text-decoration: underline;">https://lr0.org</a>
    | Blog at <a href="https://lr0.org/blog" style="color: #00ffff; text-decoration: underline;">https://lr0.org/blog</a>
    <span style="float: right; cursor: pointer;" onclick="this.parentElement.style.display='none'">[X]</span>
</div>
<div style="height: 50px;"></div>
<!-- END OUTDATED NOTICE -->
</body>
</html>
</head>
<body>
<div id="preamble" class="status">
<div id="preamble" class="status">
  <div class="header" style="
    display: block !important;!i;!;
">
<a href="/">
<h1 class="title" style="
margin-block-start: auto;
    color: black;
">لّermontov</h1>

      </a>
<hr class="header-divider" style="margin-block-end: -1em;">
  </div>
</div>
</div>
<div id="content" class="content">
<header>
<h1 class="title">A useful Git &rsquo;trick&rsquo;</h1>
</header><div class="tag" id="orgb1ad17f">
<p>
This section was labeled under, or is related to <a href="../t/programming.html#4u5664n02wj0">Programming</a>
</p>

</div>
<p>
Lately someone, who had left my team, left behind him a very big branch that its
base can not be easily detected (due to the inflated number of branches we have
in that repo). Following are couple of ways that would have helped me to detect
that branch (saying <i>would have</i> to imply to you that it didn&rsquo;t, due to the
big number of merges in that branch, but it indeed <i>would have helped</i> in
a bit smaller repo).
</p>
<div id="outline-container-uv8g13k0cmk0" class="outline-2">
<h2 id="uv8g13k0cmk0">Git: List all the branches compared to this branch with behind/ahead logs</h2>
<div class="outline-text-2" id="text-orgc4be065">
<div class="tag" id="orgc910b10">
<p>
This section was labeled under, or is related to Tech Search
</p>

</div>
<pre class="code"><code>#!/bin/bash
current_branch=$(git rev-parse --abbrev-ref HEAD)
echo "Branch analysis for: $current_branch"

for branch in $(git for-each-ref --format='%(refname:short)' refs/remotes refs/heads | grep -v "$current_branch" | grep -v "staging-mas"); do
    if merge_base=$(git merge-base "$branch" HEAD 2&gt;/dev/null); then
        ahead=$(git rev-list --count "$merge_base..HEAD" 2&gt;/dev/null)
        behind=$(git rev-list --count "$merge_base..$branch" 2&gt;/dev/null)
        if [ "$ahead" -gt 0 ]; then
            echo "$branch: $ahead commits ahead, $behind commits behind"
        fi
    fi
done
</code></pre>
</div>
</div>
<div id="outline-container-kjr773k0cmk0" class="outline-2">
<h2 id="kjr773k0cmk0">Trying to find only the modified files</h2>
<div class="outline-text-2" id="text-org673c211">
<div class="tag" id="orgec6bb0f">
<p>
This section was labeled under, or is related to Tech Search
</p>

</div>
<p>
The previous way didn&rsquo;t help much in my case, I found that the optimal way would
be just migrating the files I care about into a separate branch (since there are
no dependencies in this repo). I needed to get the files that were modified in
this branch by that person:
</p>
<pre class="code"><code>git log main..HEAD --author="The Dude Full Name &lt;TheDudeEmail@smth.edu&gt;" --name-status --pretty=format:
</code></pre>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="postamble" class="status">
<hr style="
    clear: both;
">

<p> I seek refuge in God, from Satan the rejected. Generated by: <a href="https://www.gnu.org/software/emacs/">Emacs</a> 30.1 (<a href="https://orgmode.org">Org</a> mode 9.7.31). Written by: Salih Muhammed, by the date of: 2025-07-02 Wed 01:23. Last build date: 2025-07-25 Fri 00:00.</p>

</div>
</div>
</div>
</body>
</html>
