<html>

<head>
  <title>Timeline sourcecode documentation</title>
  <link rel='stylesheet' href='default.css' type='text/css'>
</head>

<body>
<!-- OUTDATED NOTICE -->
<div style="
    background: #1a1a1a;
    color: #00ff00;
    font-family: monospace;
    font-size: 14px;
    padding: 8px 16px;
    margin: 0;
    text-align: center;
    border-bottom: 2px solid #00ff00;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    box-shadow: 0 2px 10px rgba(0,255,0,0.3);
">
    <span style="opacity: 0.8;">[!]</span>
    This site is archived for link-rot prevention.
    New content at <a href="https://lr0.org" style="color: #00ffff; text-decoration: underline;">https://lr0.org</a>
    | Blog at <a href="https://lr0.org/blog" style="color: #00ffff; text-decoration: underline;">https://lr0.org/blog</a>
    <span style="float: right; cursor: pointer;" onclick="this.parentElement.style.display='none'">[X]</span>
</div>
<div style="height: 50px;"></div>
<!-- END OUTDATED NOTICE -->
<h1>Timeline sourcecode documentation</h1>
<p>
The timeline is written in pure Javascript. There is a GWT wrapper written
that enables you to use the Timeline from within GWT (Google Web Toolkit).
This page explains how the sourcecode is built up. 
For detailed information about all functions, one can use the 
<a href="jsdoc">JsDoc</a> reference pages.
</p>

<h2>Timeline Javascript</h2>
<p>
The sourcecode of the Timeline is in one javascript file, <code>timeline.js</code>.

The file contains a class <code>Timeline</code>, which is defined in the 
namespace <code>links</code>.

All important local variables and constants are defined in the constructor. 
The constructor requires a parameter with teh container element inside which
Timeline will be created.
</p>

<p>
The constructor calls the function <code>create()</code>. This function creates
a frame element. Inside the frame, a canvas is created. The html elements for
the axis and the events are added to the canvas.    
</p>

<p>
After the Timeline is constructed, it can be filled and drawn via the function
<code>draw(data, options)</code>. The parameter <code>data</code> is a DataTable which
contains the events. <code>options</code> is an optional name-value map containing 
settings for the timeline such as startDate, endDate, widht, height, layout.

The function <code>draw()</code> loads the data, draws the axis, and draws the
events.
</p>

<p>
The Timeline can be moved by dragging it. When moving the Timeline, the canvas 
is moved inside the frame. To prevent the user from seeing an undrawn area
when moving, the actual with of the canvas is three times the width of the 
screen, and only the middle part is visible.
After the mouse button is up again, the the whole timeline is redrawn again.

When zooming, the timeline is redrawn after each zoom action. This is needed
because the axis changes and possibly the scale too.
</p>

<p>
Todo...
</p>


</body>
</html>
